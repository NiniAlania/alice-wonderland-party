<div class="rsvp-container">
  
  <!-- Section Header -->
  <div class="section-header">
    <h2 class="rsvp-title">Will You Join Us?</h2>
    <p class="rsvp-subtitle">Let Alice know if you can make it to Wonderland!</p>
  </div>
  
  @if (!submitted()) {
    <!-- RSVP Form -->
    <div class="rsvp-form-card">
      
      <!-- Error Message -->
      @if (error()) {
        <div class="error-message">
          <span class="error-icon">âš ï¸</span>
          <span>{{ error() }}</span>
        </div>
      }
      
      <form (ngSubmit)="onSubmit()" class="rsvp-form">
        
        <!-- Name Field -->
        <div class="form-group">
          <label for="name" class="form-label">
            <span class="label-icon">ğŸ‘¤</span>
            Your Name
          </label>
          <input 
            type="text" 
            id="name"
            class="form-input"
            placeholder="Enter your name"
            [value]="formData().name"
            (input)="updateField('name', $any($event.target).value)"
            required
          />
        </div>
        
        <!-- Attendance -->
        <div class="form-group">
          <div class="form-label">
            <span class="label-icon">
            </span>
            Will you attend?
          </div>
          <div class="radio-group" role="radiogroup" aria-label="Will you attend?">
            <label class="radio-option" [class.selected]="formData().attendance === 'yes'">
              <input 
                type="radio" 
                name="attendance" 
                value="yes"
                (change)="updateField('attendance', 'yes')"
                required
              />
              <span class="radio-custom"></span>
              <span class="radio-text">Yes! I'll be there! ğŸŠ</span>
            </label>
            
            <label class="radio-option" [class.selected]="formData().attendance === 'no'">
              <input 
                type="radio" 
                name="attendance" 
                value="no"
                (change)="updateField('attendance', 'no')"
                required
              />
              <span class="radio-custom"></span>
              <span class="radio-text">Sorry, I'm a party pooper ğŸ˜¢</span>
            </label>
          </div>
        </div>
        
        @if (formData().attendance === 'yes') {
          <!-- Character/Costume -->
          <div class="form-group slide-in">
            <label for="character" class="form-label">
              <span class="label-icon"></span>
              Who will you dress as?(Optional)
            </label>
            <input 
              type="text" 
              id="character"
              class="form-input"
              placeholder="e.g. Shrek, Pinocchio, áƒœáƒáƒªáƒáƒ áƒ¥áƒ”áƒ¥áƒ˜áƒ, etc."
              [value]="formData().character"
              (input)="updateField('character', $any($event.target).value)"
            />
          </div>
        }
        
        <!-- Message -->
        <div class="form-group">
          <label for="message" class="form-label">
            <span class="label-icon">ğŸ’Œ</span>
            Message for me(optional)
          </label>
          <textarea 
            id="message"
            class="form-textarea"
            rows="4"
            placeholder="anything..."
            [value]="formData().message"
            (input)="updateField('message', $any($event.target).value)"
          ></textarea>
        </div>
        
        <!-- Submit Button -->
        <div class="form-actions">
          <button 
            type="submit" 
            class="submit-button"
            [disabled]="submitting()"
            [class.loading]="submitting()"
          >
            @if (submitting()) {
              <span class="button-icon spinner">â³</span>
              <span class="button-text">Sending...</span>
            } @else {
              <span class="button-icon">ğŸˆ</span>
              <span class="button-text">Send RSVP</span>
              <span class="button-arrow">â†’</span>
            }
          </button>
        </div>
        
      </form>
      
      <!-- Form Decorations -->
      <div class="form-decorations">
        <div class="deco deco-1">ğŸŒŸ</div>
        <div class="deco deco-2">ğŸ©</div>
        <div class="deco deco-3">ğŸ«–</div>
        <div class="deco deco-4">ğŸ’œ</div>
      </div>
    </div>
  } @else {
    <!-- Success Message -->
    <div class="success-card">
      <div class="success-icon">ğŸ‰</div>
      <h2 class="success-title">Thank You!</h2>
      <p class="success-message">
        Your RSVP has been received! Alice is delighted 
        @if (formData().attendance === 'yes') {
          that you'll be joining us in Wonderland! ğŸŠ
        } @else {
          to hear from you and hopes to see you next time! ğŸ’œ
        }
      </p>
      <button class="reset-button" (click)="resetForm()">
        Submit Another Response
      </button>
    </div>
  }
  
  <!-- Bottom Quote -->
  <div class="rsvp-quote">
    <p class="quote-text">"It's no use going back to yesterday, because I was a different person then."</p>
    <p class="quote-author">â€” Alice</p>
  </div>
  
</div>
